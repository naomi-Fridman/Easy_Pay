<head>
    <!-- <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css"> -->
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <!-- <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css"> -->
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
    <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>

    <!-- <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css"> -->
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!------ Include the above in your HEAD tag ---------->

    <!-- <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css"> -->
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <!-- <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css"> -->
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <!-- <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css"> -->
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css"> -->
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
    <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/material-design-iconic-font/2.2.0/css/material-design-iconic-font.min.css"
        integrity="sha256-3sPp8BkKUE7QyPSl6VfBByBroQbKxKG7tsusY2mhbVY=" crossorigin="anonymous" />

</head>

<div class="container-fluid" style="margin-top:60px; margin-right: 60px; margin-bottom: 0px;">
    <!-- <header> -->
    <!-- <div id="top-filter" class="col-12 top-filter tfilter-box hidden-xs" data-spy="affix" data-offset-top="197"> -->
    <!-- <div class="container-fluid top-filter tfilter-box"> -->
    <div class="row top-filter tfilter-box" style="margin-left: 0px;">
        <div class="col-3">
            <input [(ngModel)]="dto_loans.firstName" #firstNameInput class="form-control" placeholder="שם פרטי"
                type="text">
        </div>
        <div class="col-3">
            <input [(ngModel)]="dto_loans.lastName" #lastNameInput class="form-control" placeholder="שם משפחה"
                type="text">
        </div>
        <div class="col-3">
            <input [(ngModel)]="dto_loans.telephoneNumber1" #lastNameInput class="form-control" placeholder="טלפון"
                type="text">
        </div>
        <!-- <div class="col-sm-2">
                        <select (change)="onChange($event.target.value)" [(ngModel)]="selectedSum" class="form-control">

                            <option value="sum">
                                סכום מדויק
                            </option>
                            <option value="from">
                                החל מ
                            </option>
                            <option value="till">
                                עד
                            </option>
                            <option value="range">
                                טווח
                            </option>
                        </select>
                    </div>
                    <div *ngIf="selectedSum=='from' || selectedSum=='range'" class="col-sm-2">
                        <div class="row">
                            <div class="col-md-12">
                                <input [(ngModel)]="dto_loans.sumFrom" #fromSumInput class="form-control"
                                    placeholder=" החל מ" type="text">
                            </div>
                        </div>
                    </div>
                    <div *ngIf="selectedSum=='till' || selectedSum=='range' " class="col-sm-2">
                        <div class="row">
                            <div class="col-md-12">
                                <input [(ngModel)]="dto_loans.sumTill" #tillSumInput class="form-control"
                                    placeholder="עד" type="text">
                            </div>
                        </div>
                    </div>
                    <div *ngIf="selectedSum=='sum'" class="col-sm-2">
                        <div class="row">
                            <div class="col-md-12">
                                <input [(ngModel)]="dto_loans.sumExact" #sumInput class="form-control"
                                    placeholder=" סכום" type="text">
                            </div>
                        </div>
                    </div> -->
        <div class="col-1">
            <button type="button" class="btn btn-danger glyphicon glyphicon-search" (click)="getAllPayments()">חפש
            </button>
        </div>
    </div>
    <!-- </div> -->
    <!-- </div> -->
    <!-- </header> -->
    <div class="row">
        <div class="col-4">
            <div class="card" style="width: 90%;">
                <article class="card-group-item">
                    <header class="card-header">
                        <h6 style="text-align: center; margin: 0px 0px 0px;" class="title">סינון לפי סכום </h6>
                    </header>
                    <div class="filter-content">
                        <div class="card-body">
                            <div class="form-row">
                                <div class="form-group  col-md-6 text-right">
                                    <label>סכום מדויק</label>
                                    <input min="0" type="number" class="form-control" id="sumExact"
                                        placeholder="סכום מדויק">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col text-right">
                                    <label>החל מסכום</label>
                                    <input min="0" type="number" class="form-control" id="sumFrom"
                                        placeholder="החל מסכום">
                                </div>
                                <div class="form-group col text-right">
                                    <label>עד סכום</label>
                                    <input min="0" type="number" class="form-control" id="sumTill"
                                        placeholder="עד סכום">
                                </div>
                            </div>
                        </div> <!-- card-body.// -->
                    </div>
                </article> <!-- card-group-item.// -->
                <article class="card-group-item">
                    <header class="card-header">
                        <h6 style="text-align: center;  margin: 0px 0px 0px;" class="title">סינון לפי תאריך </h6>
                    </header>
                    <div class="filter-content">
                        <div class="card-body">
                            <div class="form-row">
                                <div class="form-group col-md-6 text-right">
                                    <label>תאריך מדויק</label>
                                    <input type="date" class="form-control" placeholder="עד לתאריך">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6 text-right">
                                    <label>החל מתאריך</label>
                                    <input type="date" class="form-control" id="inputEmail4" placeholder="החל מתאריך">
                                </div>
                                <div class="form-group col-md-6 text-right">
                                    <label>עד לתאריך</label>
                                    <input type="date" class="form-control" placeholder="עד לתאריך">
                                </div>
                            </div>
                        </div> <!-- card-body.// -->
                    </div>
                </article> <!-- card-group-item.// -->
                <article class="card-group-item">
                    <header class="card-header">
                        <h6 style="text-align: center; margin: 0px 0px 0px;" class="title">הלוואות פעילות </h6>
                    </header>
                    <div class="filter-content text-right">

                        <div class="boxes">
                            <input type="checkbox" id="box-1">
                            <label style="right: 20px;" for="box-1">הצג את ההלוואות הפעילות&nbsp;</label>
                        </div>

                    </div>
                </article> <!-- card-group-item.// -->

            </div> <!-- card.// -->
        </div>
        <div class="col-8">
            <div class="l-container">
                <ul *ngFor="let loan of loanerToDisplay">
                    <li (click)="showDetails(loan,content)" class="list" data-name="JoeBrown">
                        <div class="list__profile">
                            <div> <img src="https://tinyurl.com/glz9lv7"> </div>
                            <div class="list__label">
                                <div class="list__label--header"> {{loan.user.firstName}} - {{loan.user.lastName}}
                                </div>
                                <div class="list__label--value"> - {{loan.loaner.sum}} </div>
                            </div>
                        </div>
                        <div class="list__photos">
                            <button pButton type="button" label="הצג פרטים" icon="pi pi-info-circle" iconPos="right"
                                (click)="showDetails(loan,content)"></button>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <aside style="position: fixed; top: 180px; " class="col-sm-6">

    </aside> <!-- col.// -->
    <section>
        <button class="btn btn-outline-primary mb-2 mr-2" (click)="openScrollableContent(longContent)">Modal scrollable
            content</button>

        <button class="btn btn-lg btn-outline-primary" (click)="open(content)">Launch demo modal</button>

    </section>
</div>
<!-- <p-orderList [value]="loanerToDisplay" filterBy="user.lastName">
    <ng-template let-loaner pTemplate="item">
        <div class="ui-helper-clearfix">
            <div style="font-size:14px;float:right;margin:15px 5px 0 0">
                {{loaner.user.firstName}} - {{loaner.user.lastName}} - {{loaner.loaner.sum}}
                <button pButton type="button" label="הצג פרטים" icon="pi pi-info-circle" iconPos="right"
                    (click)="showDetails(loaner)"></button>
            </div>
        </div>
    </ng-template>
</p-orderList> -->

<!-- <p-dialog *ngIf="loaner" header={{loaner.user.firstName}} [(visible)]="display" modal="modal" [style]="{width: '350px'}"
    [responsive]="true">
    
</p-dialog> -->



<p-button (click)="showModalDialog()" icon="pi pi-external-link" label="Show"></p-button>
<p-dialog header="Header" [(visible)]="display" [modal]="true" [style]="{width: '50vw'}" [baseZIndex]="10000"
    [draggable]="false" [resizable]="false">
    <app-loaner-detailes [loaner]="loaner"></app-loaner-detailes>

    <button class="col btn btn-purple-moon" (click)="getPaymentsForLoan(loaner.user.id)">צפה בתשלומים שנכנסו
        עבורהלוואה זו</button>
    <button class="col btn btn-purple-moon" (click)="getGuarantiesForLoan()">צפה בערבים של הלוואה זו</button>
    <ng-template pTemplate="footer">
        <p-button icon="pi pi-check" (click)="displayModal=false" label="Ok" styleClass="p-button-text"></p-button>
    </ng-template>
</p-dialog>




<p-dialog styleClass="customDialog" [modal]="true" [position]="center" dismissableMask="true" [appendTo]="body"
    *ngIf="loaner" [(visible)]="display1" [style]="{width: '30vw'}" [baseZIndex]="10000">

    <span>
        <app-loaner-detailes [loaner]="loaner"></app-loaner-detailes>

        <button class="col btn btn-purple-moon" (click)="getPaymentsForLoan(loaner.user.id)">צפה בתשלומים שנכנסו
            עבורהלוואה זו</button>
        <button class="col btn btn-purple-moon" (click)="getGuarantiesForLoan()">צפה בערבים של הלוואה זו</button>

        <!-- <div *ngIf="loaner.payments"></div> -->
        <!-- <p-virtualScroller *ngIf="loaner.payments" [value]="loaner.payments" scrollHeight="500px" [itemSize]="150">
            <ng-template pTemplate="item" let-car>
                Car content
            </ng-template>
        </p-virtualScroller> -->
        <!-- <p-listbox *ngIf="loaner.payments" [options]="loaner.payments"  [(ngModel)]="selectedPayment" [listStyle]="{'max-height':'250px'}">
            <ng-template let-loan pTemplate="item" >
                <div  class="ui-helper-clearfix">
                    <span style="float:right;margin:20px 10px 0 0">
                        {{loan.collectionSum}} - {{loan.paymentDate}} - {{loan.inputDate}}
                    </span>
                </div>
            </ng-template>
           <p-footer>
                selectedPayment: {{selectedPayment||'none'}}
            </p-footer>
        </p-listbox>  -->
        <div class="container">


            <div class="row">
                <div class="col-lg-10 mx-auto">
                    <div class="career-search mb-60">

                        <div class="filter-result">
                            <p class="mb-30 ff-montserrat">Total Job Openings : 89</p>

                            <div class="job-box d-md-flex align-items-center justify-content-between mb-30">
                                <div class="job-left my-4 d-md-flex align-items-center flex-wrap">
                                    <div class="img-holder mr-md-4 mb-md-0 mb-4 mx-auto mx-md-0 d-md-none d-lg-flex">
                                        FD
                                    </div>
                                    <div class="job-content">
                                        <h5 class="text-center text-md-left">Front End Developer</h5>
                                        <ul class="d-md-flex flex-wrap text-capitalize ff-open-sans">
                                            <li class="mr-md-4">
                                                <i class="zmdi zmdi-pin mr-2"></i> Los Angeles
                                            </li>
                                            <li class="mr-md-4">
                                                <i class="zmdi zmdi-money mr-2"></i> 2500-3500/pm
                                            </li>
                                            <li class="mr-md-4">
                                                <i class="zmdi zmdi-time mr-2"></i> Full Time
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="job-right my-4 flex-shrink-0">
                                    <a href="#" class="btn d-block w-100 d-sm-inline-block btn-light">Apply now</a>
                                </div>
                            </div>

                            <div class="job-box d-md-flex align-items-center justify-content-between mb-30">
                                <div class="job-left my-4 d-md-flex align-items-center flex-wrap">
                                    <div class="img-holder mr-md-4 mb-md-0 mb-4 mx-auto mx-md-0 d-md-none d-lg-flex">
                                        UX
                                    </div>
                                    <div class="job-content">
                                        <h5 class="text-center text-md-left">Ui/Ux Developer</h5>
                                        <ul class="d-md-flex flex-wrap text-capitalize ff-open-sans">
                                            <li class="mr-md-4">
                                                <i class="zmdi zmdi-pin mr-2"></i> Los Angeles
                                            </li>
                                            <li class="mr-md-4">
                                                <i class="zmdi zmdi-money mr-2"></i> 2500-3500/pm
                                            </li>
                                            <li class="mr-md-4">
                                                <i class="zmdi zmdi-time mr-2"></i> Full Time
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="job-right my-4 flex-shrink-0">
                                    <a href="#" class="btn d-block w-100 d-sm-inline-block btn-light">Apply now</a>
                                </div>
                            </div>

                            <div class="job-box d-md-flex align-items-center justify-content-between mb-30">
                                <div class="job-left my-4 d-md-flex align-items-center flex-wrap">
                                    <div class="img-holder mr-md-4 mb-md-0 mb-4 mx-auto mx-md-0 d-md-none d-lg-flex">
                                        GD
                                    </div>
                                    <div class="job-content">
                                        <h5 class="text-center text-md-left">Graphic Designer</h5>
                                        <ul class="d-md-flex flex-wrap text-capitalize ff-open-sans">
                                            <li class="mr-md-4">
                                                <i class="zmdi zmdi-pin mr-2"></i> Los Angeles
                                            </li>
                                            <li class="mr-md-4">
                                                <i class="zmdi zmdi-money mr-2"></i> 2500-3500/pm
                                            </li>
                                            <li class="mr-md-4">
                                                <i class="zmdi zmdi-time mr-2"></i> Full Time
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="job-right my-4 flex-shrink-0">
                                    <a href="#" class="btn d-block w-100 d-sm-inline-block btn-light">Apply now</a>
                                </div>
                            </div>

                            <div class="job-box d-md-flex align-items-center justify-content-between mb-30">
                                <div class="job-left my-4 d-md-flex align-items-center flex-wrap">
                                    <div class="img-holder mr-md-4 mb-md-0 mb-4 mx-auto mx-md-0 d-md-none d-lg-flex">
                                        JS
                                    </div>
                                    <div class="job-content">
                                        <h5 class="text-center text-md-left">Javascript Developer</h5>
                                        <ul class="d-md-flex flex-wrap text-capitalize ff-open-sans">
                                            <li class="mr-md-4">
                                                <i class="zmdi zmdi-pin mr-2"></i> Los Angeles
                                            </li>
                                            <li class="mr-md-4">
                                                <i class="zmdi zmdi-money mr-2"></i> 2500-3500/pm
                                            </li>
                                            <li class="mr-md-4">
                                                <i class="zmdi zmdi-time mr-2"></i> Full Time
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="job-right my-4 flex-shrink-0">
                                    <a href="#" class="btn d-block w-100 d-sm-inline-block btn-light">Apply now</a>
                                </div>
                            </div>

                        </div>
                    </div>

                    <!-- START Pagination -->
                    <nav aria-label="Page navigation">
                        <ul class="pagination pagination-reset justify-content-center">
                            <li class="page-item disabled">
                                <a class="page-link" href="#" tabindex="-1" aria-disabled="true">
                                    <i class="zmdi zmdi-long-arrow-left"></i>
                                </a>
                            </li>
                            <li class="page-item"><a class="page-link" href="#">1</a></li>
                            <li class="page-item d-none d-md-inline-block"><a class="page-link" href="#">2</a></li>
                            <li class="page-item d-none d-md-inline-block"><a class="page-link" href="#">3</a></li>
                            <li class="page-item"><a class="page-link" href="#">...</a></li>
                            <li class="page-item"><a class="page-link" href="#">8</a></li>
                            <li class="page-item">
                                <a class="page-link" href="#">
                                    <i class="zmdi zmdi-long-arrow-right"></i>
                                </a>
                            </li>
                        </ul>
                    </nav>
                    <!-- END Pagination -->
                </div>
            </div>

        </div>
        <p-orderList *ngIf="loaner.payments" [value]="loaner.payments">
            <ng-template let-payment pTemplate="item">
                <div class="ui-helper-clearfix">
                    <div style="font-size:14px;float:right;margin:15px 5px 0 0">
                        {{payment.collectionSum}} - {{payment.paymentDate}} - {{payment.inputDate}} </div>
                </div>
            </ng-template>
        </p-orderList>
        <p-orderList *ngIf="loaner.guaranty" [value]="loaner.guaranty" id="guarantysCo">
            <ng-template let-guaranty pTemplate="item">
                <div class="ui-helper-clearfix">
                    <div style="font-size:14px;float:right;margin:15px 5px 0 0">
                        {{guaranty.user.firstName}} - {{guaranty.user.lastName}} - {{guaranty.user.telephone1}} -
                        {{guaranty.user.email}} </div>
                </div>
            </ng-template>
        </p-orderList>
    </span>
    <!--     
    <p-footer>
        <div class="ui-dialog-buttonpane ui-helper-clearfix">
            <button type="button" pButton icon="pi pi-times" (click)="display=false" label="אישור"></button>
        </div>
    </p-footer> -->

</p-dialog>

<!-- <ng-template #longContent let-modal>
    <div class="modal-header">
      <h4 class="modal-title">Modal title</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
       
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-light" (click)="modal.close('Close click')">Close</button>
    </div>
  </ng-template> -->

<ng-template #content let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Profile update</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <span>
            <!-- <app-loaner-detailes [loaner]="loaner"></app-loaner-detailes>  -->
            <form>
                <div [formGroup]="loanerDetailesForm" class="form-group">
                    <label for="sum" class="col-form-label">סכום הלוואה:</label>
                    <input [formControl]="loanerDetailesForm.controls[sum]" type="text" class="form-control" id="sum">
                </div>
                <!-- <div class="form-group">
                    <label for="paymentsNumber" class="col-form-label">מספר תשלומים:</label>
                    <textarea class="form-control" id="paymentsNumber"></textarea>
                </div> -->
            </form>
            <button class="col btn btn-purple-moon" (click)="getPaymentsForLoan(loaner.user.id)">צפה בתשלומים שנכנסו
                עבורהלוואה זו</button>
            <button class="col btn btn-purple-moon" (click)="getGuarantiesForLoan()">צפה בערבים של הלוואה זו</button>

            <!-- <div *ngIf="loaner.payments"></div> -->
            <!-- <p-virtualScroller *ngIf="loaner.payments" [value]="loaner.payments" scrollHeight="500px" [itemSize]="150">
                <ng-template pTemplate="item" let-car>
                    Car content
                </ng-template>
            </p-virtualScroller> -->
            <!-- <p-listbox *ngIf="loaner.payments" [options]="loaner.payments"  [(ngModel)]="selectedPayment" [listStyle]="{'max-height':'250px'}">
                <ng-template let-loan pTemplate="item" >
                    <div  class="ui-helper-clearfix">
                        <span style="float:right;margin:20px 10px 0 0">
                            {{loan.collectionSum}} - {{loan.paymentDate}} - {{loan.inputDate}}
                        </span>
                    </div>
                </ng-template>
               <p-footer>
                    selectedPayment: {{selectedPayment||'none'}}
                </p-footer>
            </p-listbox>  -->



            <p-orderList *ngIf="loaner.payments" [value]="loaner.payments">
                <ng-template let-payment pTemplate="item">
                    <div class="ui-helper-clearfix">
                        <div style="font-size:14px;float:right;margin:15px 5px 0 0">
                            {{payment.collectionSum}} - {{payment.paymentDate}} - {{payment.inputDate}} </div>
                    </div>
                </ng-template>
            </p-orderList>
            <p-orderList *ngIf="loaner.guaranty" [value]="loaner.guaranty" id="guarantysCo">
                <ng-template let-guaranty pTemplate="item">
                    <div class="ui-helper-clearfix">
                        <div style="font-size:14px;float:right;margin:15px 5px 0 0">
                            {{guaranty.user.firstName}} - {{guaranty.user.lastName}} - {{guaranty.user.telephone1}} -
                            {{guaranty.user.email}} </div>
                    </div>
                </ng-template>
            </p-orderList>
        </span>
    </div>
 
</ng-template>

<!-- <hr>

<pre>{{ closeResult }}</pre> -->